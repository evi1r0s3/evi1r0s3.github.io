---
layout: default
comments: true
---
{% unless site.dash.show_author == false %}
  {% include author.html %}
{% endunless %}

<HR align=center width=100% color=#637AFE>
  <div>
    {% include categories.html %}
  </div>

<div class="post">
  <h1 class="post-title">{{ page.title }}</h1>
  {% if site.plugins contains "jekyll/tagging" %}
  <div class="post-tags">
      {% for tag in page.tags %}
      <a class="tag" href="/tag/{{ tag }}/">{{ tag }}</a>
      {% endfor %}
  </div>
  {% endif %}
  <div class="post-date">Published on {{ page.date | date_to_string }}</div>
  {% if page.description != null %}
  <noscript>
    <div class="post-description">{{ page.description }}</div>
  </noscript>
  <div id="animated-post-description" class="post-description" style="display: none;"></div>
  {% endif %}
  {{ content }}
</div>

{% if site.leancloud.enable %}
<div>
  <span id="{{ page.url }}" class="leancloud_visitors" data-flag-title="{{ page.title }}">
    Visited:
    <a href="#"><span class="leancloud-visitors-count"></span>次</a>
  </span>
</div>
{% endif %}

<div class="social-share"></div>

<!--  css & js -->
<link rel="stylesheet" href="{{ "/share_js/css/share.min.css" | relative_url }}">
<script src="{{ "/share_js/js/social-share.min.js" | relative_url }}"></script>

<div class="accordion" id="accordionExample">

  <!--  card1 -->
  <div class="card">
    <div class="card-header" id="headingOne">
      <h2 class="mb-0">
        <button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
          <h5>匿名留言</h5>
        </button>
      </h2>
    </div>

    <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionExample">
      <div class="card-body">

        <!--  Valine -->
        <div id="vcomments">
          <script>
              new Valine({
                  el: '#vcomments',
                  appId: '{{site.leancloud.app_id}}',
                  appKey: '{{site.leancloud.app_key}}'
              })
          </script>
        </div>
        <!--  end -->

      </div>
    </div>
  </div>

  <!--  card2 -->
  <div class="card">
    <div class="card-header" id="headingTwo">
      <h2 class="mb-0">
        <button class="btn btn-link btn-block text-left collapsed" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
          <h5>登陆留言</h5>
        </button>
      </h2>
    </div>


    <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
      <div class="card-body">

        {% if site.dash.disqus.shortname %}
        <div class="comments">
        {% include disqus.html %}
        </div>
        {% endif %}
        
        
      </div>
    </div>
  </div>
</div>



{% assign size = site.related_posts | size %}
        {% if size != 0 %}
        <div class="related">
          <h2>related posts</h2>
          <ul class="related-posts">
            {% for post in site.related_posts limit:3 %}
              <li>
                <h3>
                  <a href="{{ post.url }}">
                    {{ post.title }}
                  </a>
                </h3>
              </li>
            {% endfor %}
          </ul>
        </div>
        {% endif %}      

{% include tagcloud.html %}

{% assign animation_speed = site.dash.animation_speed | default: 50 %}
<script>
  let i = 0;
  const text = '{{ page.description }}';
  const speed = parseInt('{{ animation_speed }}');
  
  function typeWriter() {
    if (i < text.length) {
      document.getElementById('animated-post-description').innerHTML += text.charAt(i);
      i++;
      setTimeout(typeWriter, speed);
    }
  }

  document.getElementById('animated-post-description').style.display = 'initial';
  typeWriter();
</script>
